<div class="navbar bg-base-100 shadow sticky top-0">
  <div class="flex-1">
    <div class="dropdown dropdown-hover">
      <a routerLink="" tabindex="0" class="btn btn-ghost normal-case text-xl">Chronicle</a>
      <ul tabindex="0"
          class="p-2 shadow border-2 border-base-200/25 dropdown-content menu menu-compact bg-base-100 w-52">
        <li>
          <a routerLink="" class="justify-start">Home</a>
        </li>
        <li>
          <a routerLink="/posts" class="justify-start">Posts</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="flex-none gap-2 pr-2">
    <!-- Theme Picker -->
    <app-theme-picker></app-theme-picker>

    <!-- login / sign-up + Collapse -->
    <div *ngIf="!(this.authService.isLoggedIn | async)">
      <div class="hidden md:block md:flex">
        <a routerLink="/signup" class="btn btn-ghost">Sign-Up</a>
        <a routerLink="/login" class="btn btn-ghost">Login</a>
      </div>

      <div class="dropdown dropdown-hover dropdown-end md:hidden">
        <label tabindex="0" class="btn btn-ghost"><i class="fa-bars fa-solid"></i></label>
        <ul tabindex="0"
            class="p-2 shadow border-2 border-base-200/25 dropdown-content menu menu-compact bg-base-100 w-52">
          <li>
            <a routerLink="/signup" class="justify-start">Sign-Up</a>
          </li>
          <li>
            <a routerLink="/login" class="justify-start">Login</a>
          </li>
        </ul>
      </div>
    </div>

    <!--    New post button -->
    <div class="tooltip tooltip-bottom" data-tip="new post">
      <a routerLink="/post/new" class="btn btn-ghost" *ngIf="this.authService.isLoggedIn | async"><i
        class="fa-solid fa-plus"></i></a>
    </div>

    <!--    Profile menu -->
    <div class="dropdown dropdown-hover dropdown-end" *ngIf="this.authService.isLoggedIn | async">
      <label tabindex="0" class="btn btn-ghost"><i class="fa-solid fa-user"></i></label>
      <ul tabindex="0"
          class="p-2 shadow border-2 border-base-200/25 menu menu-compact dropdown-content bg-base-100 w-52">
        <li>
          <a routerLink="/profile/{{this.authService.getUsernameFromToken()}}" class="justify-between">Profile<i
            class="fa-solid fa-user"></i></a>
        </li>
        <li>
          <a routerLink="/profile/{{this.authService.getUsernameFromToken()}}/edit" class="justify-between">Settings<i class="fa-solid fa-gear"></i></a>
        </li>
        <li>
          <a href="" class="justify-between" (click)="onLogout()">Logout<i class="fa-solid fa-circle-xmark"></i></a>
        </li>
      </ul>
    </div>
  </div>
</div>
